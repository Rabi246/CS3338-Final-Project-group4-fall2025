\documentclass[tikz,border=10pt]{standalone}
\usepackage{tikz}
\usetikzlibrary{shadows, arrows.meta, positioning, fit}

\begin{document}

\begin{tikzpicture}[
    node distance=1.8cm and 2.5cm,
    box/.style={
        rectangle,
        rounded corners,
        draw=blue!60,
        fill=blue!10,
        very thick,
        minimum width=3.5cm,
        minimum height=1.2cm,
        text centered,
        drop shadow
    },
    actor/.style={
        rectangle,
        rounded corners,
        draw=green!60,
        fill=green!10,
        very thick,
        minimum width=3.5cm,
        minimum height=1.2cm,
        text centered,
        drop shadow
    },
    arrow/.style={
        -{Stealth[length=3mm]},
        very thick,
        draw=blue!70
    }
]

% Nodes
\node[actor] (user) {User};
\node[box, right=of user] (frontend) {Frontend \\ React/Vite UI};
\node[box, right=of frontend] (backend) {Backend API \\ Node/Express};
\node[box, right=of backend] (database) {PostgreSQL DB};

\node[box, below=2cm of frontend] (upload) {PDF Upload};
\node[box, below=2cm of backend] (extraction) {Metadata Extraction};

% Docker box
\node[
    draw=black!60,
    dashed,
    thick,
    fit={(frontend) (backend) (database) (upload) (extraction)},
    label={[yshift=1cm]\textbf{Docker Environment}}
] (dockerbox) {};

% Arrows

\draw[arrow] (user) -- node[midway, yshift=8pt]{Use} (frontend);
\draw[arrow] (frontend) -- node[midway, yshift=8pt]{Request} (backend);
\draw[arrow] (backend) -- node[midway, yshift=8pt]{Query} (database);
\draw[arrow] (database) -- node[midway, yshift=8pt]{Data} (backend);
\draw[arrow] (backend) -- node[midway, yshift=8pt]{Response} (frontend);
\draw[arrow] (frontend) -- node[midway, yshift=8pt]{Results} (user);

% Upload / extraction flow
\draw[arrow] (user.south) |- node[midway, xshift=-10pt]{Upload} (upload);
\draw[arrow] (upload.east) -- node[midway, yshift=8pt]{Store} (backend.south);
\draw[arrow] (backend.south) -- node[midway, xshift=10pt]{Process} (extraction.north);
\draw[arrow] (extraction.west) -- ++(-1.2,0) |- node[midway, xshift=-10pt]{Save} (database.south);


\end{tikzpicture}

\end{document}
